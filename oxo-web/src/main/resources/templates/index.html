<!DOCTYPE html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en"/> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en"/> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"/> <![endif]-->
<!-- Consider adding an manifest.appcache: h5bp.com/d/Offline -->
<!--[if gt IE 8]><!--> <html  xmlns:th="http://www.thymeleaf.org" class="no-js" lang="en"> <!--<![endif]-->
<head>
    <meta charset="utf-8"/>

    <!-- Use the .htaccess and remove these lines to avoid edge case issues.
         More info: h5bp.com/b/378 -->
    <!-- <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> --> <!-- Not yet implemented -->

    <title>Home &lt; Ontology Xref Service &lt; EMBL-EBI</title>
    <meta name="description" content="EMBL-EBI Ontology Lookup Service is a repository of bio-medical ontologies and provides a powerful REST API for searching and accessing ontology term information"/><!-- Describe what this page is about -->
    <meta name="keywords" content="ontology, ontologies, bioinformatics, europe, institute"/><!-- A few keywords that relate to the content of THIS PAGE (not the whol project) -->
    <meta name="author" content="Samples Phenotypes and Ontologies Team, EMBL-EBI"/><!-- Your [project-name] here -->

    <!-- Mobile viewport optimized: j.mp/bplateviewport -->
    <meta name="viewport" content="width=device-width,initial-scale=1"/>

    <!-- Place favicon.ico and apple-touch-icon.png in the root directory: mathiasbynens.be/notes/touch-icons -->
    <link rel="stylesheet" href="//www.ebi.ac.uk/ols/css/bootstrap/3.3/css/bootstrap.min.css" type="text/css" media="screen"/>

    <!-- CSS: implied media=all -->
    <!-- CSS concatenated and minified via ant build script-->
    <link rel="stylesheet" href="//www.ebi.ac.uk/web_guidelines/css/compliance/develop/boilerplate-style.css"/>
    <link rel="stylesheet" href="//www.ebi.ac.uk/web_guidelines/css/compliance/develop/ebi-global.css" type="text/css" media="screen"/>
    <link rel="stylesheet" href="//www.ebi.ac.uk/web_guidelines/css/compliance/develop/ebi-visual.css" type="text/css" media="screen"/>
    <link rel="stylesheet" href="//www.ebi.ac.uk/web_guidelines/css/compliance/develop/984-24-col-fluid.css" type="text/css" media="screen"/>

    <!-- you can replace this with [projectname]-colours.css. See http://frontier.ebi.ac.uk/web/style/colour for details of how to do this -->
    <!-- also inform ES so we can host your colour palette file -->
    <link rel="stylesheet" href="//www.ebi.ac.uk/web_guidelines/css/compliance/develop/embl-petrol-colours.css" type="text/css" media="screen"/>

    <link rel="stylesheet" href="//www.ebi.ac.uk/ols/css/ols.css" type="text/css" media="screen"/>
    <link rel="stylesheet" href="//www.ebi.ac.uk/ols/css/ols-colors.css"  type="text/css" media="screen"/>


    <link rel="stylesheet" href="../static/css/oxo-d3.css" th:href="@{css/oxo-d3.css}" type="text/css" media="screen"/>
    <link  rel="stylesheet" th:href="@{webjars/select2/4.0.0/dist/css/select2.min.css}" href="/webjars/select2/4.0.0/dist/css/select2.min.css"  type="text/css" media="screen"/>
    <link  rel="stylesheet" th:href="@{webjars/bootstrap-slider/5.3.1/css/bootstrap-slider.min.css}" href="/webjars/bootstrap-slider/5.3.1/css/bootstrap-slider.min.css"  type="text/css" media="screen"/>

    <!-- for production the above can be replaced with -->
    <!--
    <link rel="stylesheet" href="//www.ebi.ac.uk/web_guidelines/css/compliance/mini/ebi-fluid-embl.css">
    -->
    <!-- Bootstrap table css -->
    <!--<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.8.1/bootstrap-table.min.css"/>-->

    <style type="text/css">
        /* You have the option of setting a maximum width for your page, and making sure everything is centered */
        /* body { max-width: 1600px; margin: 0 auto; } */
        legend {
            margin-bottom: 0;
        }

        form fieldset {
            margin-top: 0;
        }

    </style>


    <!-- end CSS-->



    <!-- All JavaScript at the bottom, except for Modernizr / Respond.
         Modernizr enables HTML5 elements & feature detects; Respond is a polyfill for min/max-width CSS3 Media Queries
         For optimal performance, use a custom Modernizr build: www.modernizr.com/download/ -->

    <!-- Full build -->
    <!-- <script src="//www.ebi.ac.uk/web_guidelines/js/libs/modernizr.minified.2.1.6.js"></script> -->

    <!-- custom build (lacks most of the "advanced" HTML5 support -->
    <script src="//www.ebi.ac.uk/web_guidelines/js/libs/modernizr.custom.49274.js"></script>

</head>

<body class="level2">

<div id="skip-to">
    <ul>
        <li><a href="#content">Skip to main content</a></li>
        <li><a href="#local-nav">Skip to local navigation</a></li>
        <li><a href="#global-nav">Skip to EBI global navigation menu</a></li>
        <li><a href="#global-nav-expanded">Skip to expanded EBI global navigation menu (includes all sub-sections)</a></li>
    </ul>
</div>

<div id="wrapper" class="container_24" style="min-width: 1000px;">

    <header>

        <div id="global-masthead" class="masthead grid_24">

            <!--This has to be one line and no newline characters-->
            <a href="//www.ebi.ac.uk/" title="Go to the EMBL-EBI homepage"><img src="//www.ebi.ac.uk/web_guidelines/images/logos/EMBL-EBI/EMBL_EBI_Logo_white.png" alt="EMBL European Bioinformatics Institute"/></a>

            <nav>
                <ul id="global-nav">
                    <!-- set active class as appropriate -->
                    <li id="services" class=" first active"><a href="//www.ebi.ac.uk/services" title="Services">Services</a></li>
                    <li id="research" class=""><a href="//www.ebi.ac.uk/research" title="Research">Research</a></li>
                    <li id="training" class=""><a href="//www.ebi.ac.uk/training" title="Training">Training</a></li>
                    <li id="industry" class=""><a href="//www.ebi.ac.uk/industry" title="Industry">Industry</a></li>
                    <li id="about" class=" last"><a href="//www.ebi.ac.uk/about" title="About us">About us</a></li>
                </ul>
            </nav>

        </div>

        <div id="local-masthead" class="masthead grid_24 nomenu">

            <!-- local-title -->
            <!-- NB: for additional title style patterns, see http://frontier.ebi.ac.uk/web/style/patterns -->

            <div id="local-title" class="alpha logo-title">
                <span><h1>Ontology Xref Service</h1></span>
            </div>

            <!-- /local-title -->

            <!-- fix to remove search box -->
            <div style="visibility: hidden">
                <form id="local-search">
                </form>
            </div>
            <!-- -->


            <nav>
                <ul class="grid_24" id="local-nav">
                    <li class="first active"><a href="index">OxO</a></li>
                    <li><a href="docs">Documentation</a></li>
                    <li class="last" ><a href="about">About</a></li>
                    <li th:if="not ${username} and not ${readonly}" class="functional"><a href="login" class="icon icon-functional" data-icon="l">Login</a></li>
                    <li th:if="${username} and not ${readonly}" class="functional"><a href="javascript: document.logoutForm.submit()" class="icon icon-functional" data-icon="L">
                        Logout <span th:text="${username}">user</span>
                        <form name="logoutForm" th:action="@{logout}" method="post" th:hidden="true">
                        </form>
                    </a></li>
                    <li th:if="${username}  and not ${readonly}" class="functional">
                        <a href="myaccount" class="icon icon-functional" data-icon="5">
                            My mappings
                        </a>
                    </li>
                    <li class="functional last"><a href="contact" class="icon icon-generic" data-icon="C">Contact Us</a></li>
                </ul>
            </nav>
        </div>


    </header>

    <div id="content" role="main" class="grid_24 clearfix" >
        <div class="container">

            <!--@thymesVar id="summary" type="uk.ac.ebi.spot.ols.controller.ui.HomeController.SummaryInfo"-->
            <div class="grid_24 alpha">


                <div data-icon="" style="border-left: 1px solid #faebcc;width: 75%;text-align: center;margin: 0 auto;" class="alert alert-warning" role="alert">
                    <img src="//www.ebi.ac.uk/web_guidelines/images/icons/EBI-Generic/Generic%20icons/Beta.png"/> This site is still under development
                </div>

                <section class="grid_24">

                    <div class="jumbotron">
                        <!--<h1>Welcome to the OLS</h1>-->
                        <!--<p>Use OLS to search and visualise biomedical ontologies</p>-->
                        <h4>Welcome to the EMBL-EBI Ontology Xref Service (OxO).</h4>
                        <p style="font-size: 16px;">OxO is a service for finding mappings (or cross-references) between terms from ontologies, vocabularies and coding standards. OxO imports mappings from a variety of sources including the
                            <a href="http://www.ebi.ac.uk/ols">Ontology Lookup Service</a> and a subset of mappings provided by the <a href="https://www.nlm.nih.gov/research/umls/">UMLS</a>. We're still developing the service so please <a href="contact">get in touch</a> if you have any feedback.</p>
                    </div>

                </section>

                <section>

                    <div  style="height:1000px;" class="grid_7 alpha">


                        <form id="queryForm" method="post" action="search">
                            <fieldset>
                                <legend>Search OxO by term id</legend>

                                <!--@thymesVar id="source" type="uk.ac.ebi.spot.model.Datasource"-->
                                <label for="mappingTarget">
                                </label>
                                <span>Choose a target (optional)</span>
                                <select style="width: 100%; margin-bottom: 10px;;" id="mappingTarget" name="mappingTarget" class="datasource-select" >
                                    <option></option>
                                    <option th:each="source : ${datasources}" th:value="${source.getPrefix()}" th:text="${{source.getName()}}"></option>
                                </select>
                                <label for="identifiers">
                                </label>
                                <span>Mapping Distance: </span>
                                <!--<div class="context-help">-->
                                <!--<span class="context-help-label clickable" style=" float: left; color: #666;" data-icon="?">-->
                                <!--What's this?-->
                                <!--</span>-->

                                <!--<div class="context-help-wrapper" style="display: none;">-->
                                <!--<div class="context-help-content" style="display: block;">-->
                                <!--<div style="text-align:right;"><span onclick="toggleContextHelp(this); return false;" class="icon icon-functional clickable" data-icon="x">-->

                                <!--</span>-->
                                <!--</div>-->
                                <!--<p>-->
                                <!--Type or copy and paste your ZOOMA search terms in here. Each search term should-->
                                <!--be on a new line. If you have type information, put a tab then your type,-->
                                <!--</p>-->
                                <!--</div>-->
                                <!--</div>-->
                                <!--</div>-->

                                <div style="margin-left: 20px;">
                                    <input id="distance-slider" name="distance" data-slider-id='ex1Slider' data-slider-value="2" value="2" type="text"/>
                                </div>
                                <span>Enter list of identifiers:</span>
                                <div style="float:right; font-size: 0.8em">
                                    <a href="#" onclick="populateExamples(); return false;">Show me some examples...</a>
                                </div>
                                <textarea id="identifiers" name="id-list" style="resize: none; width: 98%; height: 600px; overflow: auto;"></textarea>
                                <div style="float: right; padding-right: 4px">
                                    <input type="button" name="submit" value="Clear" class="submit" style="float: right" onclick="clearAll();"/>
                                    <input onClick="return submitIds()" type="submit" name="submit" value="Find mappings" class="submit" style="float: right; margin-right: 4px"/>
                                </div>
                            </fieldset>
                        </form>
                    </div>

                    <div style="height: 800px" class="grid_17 omega">

                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h3 class="panel-title">OxO summary</h3>
                            </div>
                            <div class="panel-body">

                                <p>
                                    To use OxO either search for mappings using a particular identifier (e.g. MESH:D009202) or select a datasource below to view all mappings between datasources.
                                </p>


                                <div style="text-align:right;height:80px;width:100%;">
                                    <select  style="width: 60%; margin-top: 10px;" id="mappingSourcesSelect" class="mappingSourcesSelect" >
                                        <option></option>
                                        <option th:each="source : ${datasources}" th:value="${source.getPrefix()}" th:text="${{source.getName()}}"></option>
                                    </select>
                                </div>

                                <div id="mapping-vis">
                                    <div style="   position:absolute;
                                       top:50%;
                                       left:50%;
                                       margin-top:-25px;
                                       margin-left:-25px;"  id="mapping-vis-spinner">
                                        <img src="img/infinity.gif"/>
                                    </div>

                                </div>

                            </div>



                        </div>

                    </div>

                </section>

            </div>



        </div>
    </div>

    <footer>
        <!-- Optional local footer (insert citation / project-specific copyright / etc here -->

        <!-- End optional local footer -->

        <div id="global-footer" class="grid_24 clearfix">

            <nav id="global-nav-expanded">

                <div class="grid_4 alpha">
                    <h3 class="embl-ebi"><a href="//www.ebi.ac.uk/" title="EMBL-EBI">EMBL-EBI</a></h3>
                </div>

                <div class="grid_4">
                    <h3 class="services"><a href="//www.ebi.ac.uk/services">Services</a></h3>
                </div>

                <div class="grid_4">
                    <h3 class="research"><a href="//www.ebi.ac.uk/research">Research</a></h3>
                </div>

                <div class="grid_4">
                    <h3 class="training"><a href="//www.ebi.ac.uk/training">Training</a></h3>
                </div>

                <div class="grid_4">
                    <h3 class="industry"><a href="//www.ebi.ac.uk/industry">Industry</a></h3>
                </div>

                <div class="grid_4 omega">
                    <h3 class="about"><a href="//www.ebi.ac.uk/about">About us</a></h3>
                </div>

            </nav>

            <section id="ebi-footer-meta">
                <p class="address">EMBL-EBI, Wellcome Trust Genome Campus, Hinxton, Cambridgeshire, CB10 1SD, UK &nbsp; &nbsp; +44 (0)1223 49 44 44</p>
                <p class="legal">Copyright &copy; EMBL-EBI 2013 | EBI is an outstation of the <a href="http://www.embl.org">European Molecular Biology Laboratory</a> | <a href="/about/privacy">Privacy</a> | <a href="/about/cookies">Cookies</a> | <a href="/about/terms-of-use">Terms of use</a></p>
            </section>

        </div>

    </footer>

</div>


<script type="text/javascript" th:src="@{webjars/d3js/3.5.17/d3.min.js}" src="/webjars/d3js/3.5.17/d3.min.js"></script>
<script type="text/javascript" th:src="@{webjars/jquery/2.1.1/jquery.min.js}" src="/webjars/jquery/2.1.1/jquery.min.js"></script>
<script type="text/javascript" src="../static/js/oxo.js" th:src="@{js/oxo.js}"></script>
<script type="text/javascript" src="../static/js/oxo-flare.js" th:src="@{js/oxo-flare.js}"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<script type="text/javascript" th:src="@{webjars/bootstrap-slider/5.3.1/bootstrap-slider.min.js}" src="/webjars/bootstrap-slider/5.3.1/bootstrap-slider.min.js"></script>
<script type="text/javascript" th:src="@{webjars/select2/4.0.0/dist/js/select2.min.js}" src="/webjars/select2/4.0.0/dist/js/select2.min.js"></script>


<script defer="defer" src="//www.ebi.ac.uk/web_guidelines/js/cookiebanner.js"></script>
<script defer="defer" src="//www.ebi.ac.uk/web_guidelines/js/foot.js"></script>

<script>

    function submitIds(e) {

//        var form = $('#queryForm');
//        form.on('submit', function (e) {
//        });

        var ids = $('#identifiers').val();
        if (ids != '') {
            $.each(ids.split('\n'), function (index, id) {
                if (id != '') {
                    $('<input/>').attr({
                        type: 'hidden',
                        name: 'ids',
                        value: id
                    }).appendTo($('#queryForm'));
                }
            });

            return true
        }

        return false;

    }

    function jumpToSource(source) {
        window.location = 'datasources/' +source;
    }

    $(document).ready(function() {
        $('#distance-slider').slider({
            step: 1, min: 1, max: 3,
            ticks: [1, 2, 3],
            ticks_labels: ['1', '2', '3'],
            ticks_snap_bounds: 50
        })

        $('.datasource-select').select2({placeholder: "Datasources"});

        $('.mappingSourcesSelect').select2({placeholder: "Jump to a datasource"})
                .on('select2:select', function (e) {
                    console.log("selected:  " + $(e.currentTarget).val())
                    jumpToSource($(e.currentTarget).val())
                });


    });



</script>

<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-69391170-2', 'auto');
    ga('send', 'pageview');
    ga('set', 'anonymizeIp', true);
</script>

</body>
</html>